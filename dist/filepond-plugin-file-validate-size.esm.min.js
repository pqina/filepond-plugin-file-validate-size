/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

const E=({addFilter:E,utils:e})=>{const{Type:i,replaceInString:_,toNaturalFileSize:l}=e,I=E=>{return Number(E.match(/\d/).toString())*{b:1,kb:1e3,mb:1e6,gb:1e9,tb:1e12,pb:1e15}[E.match(/[a-zA-Z]+/).toString().toLowerCase()]};return E("ALLOW_HOPPER_ITEM",(E,{query:e})=>{if(!e("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const i=e("GET_MAX_FILE_SIZE");if(null!==i&&E.size>i)return!1;const _=e("GET_MIN_FILE_SIZE");return!(null!==_&&E.size<_)}),E("LOAD_FILE",(E,{query:e})=>new Promise((i,L)=>{if(!e("GET_ALLOW_FILE_SIZE_VALIDATION"))return i(E);const t=e("GET_FILE_VALIDATE_SIZE_FILTER");if(t&&!t(E))return i(E);const s=e("GET_MIME_MAX_FILE_SIZES");null!==s&&Object.keys(s).forEach(i=>{(E.type===i||"/*"===i.substring(2,-2)&&E.type.split("/")[0]===i.slice(0,-2))&&E.size>I(s[i])&&L({status:{main:e("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:_(e("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(I(s[i]),".",e("GET_FILE_SIZE_BASE"),e("GET_FILE_SIZE_LABELS",e))})}})});const S=e("GET_MIME_MIN_FILE_SIZES");null!==S&&Object.keys(S).forEach(i=>{(E.type===i||"/*"===i.substring(2,-2)&&E.type.split("/")[0]===i.slice(0,-2))&&E.size<I(S[i])&&L({status:{main:e("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:_(e("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(I(S[i]),".",e("GET_FILE_SIZE_BASE"),e("GET_FILE_SIZE_LABELS",e))})}})});const n=e("GET_MAX_FILE_SIZE");if(null!==n&&E.size>n)return void L({status:{main:e("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:_(e("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(n,".",e("GET_FILE_SIZE_BASE"),e("GET_FILE_SIZE_LABELS",e))})}});const T=e("GET_MIN_FILE_SIZE");if(null!==T&&E.size<T)return void L({status:{main:e("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:_(e("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(T,".",e("GET_FILE_SIZE_BASE"),e("GET_FILE_SIZE_LABELS",e))})}});const a=e("GET_MAX_TOTAL_FILE_SIZE");if(null!==a){if(e("GET_ACTIVE_ITEMS").reduce((E,e)=>E+e.fileSize,0)>a)return void L({status:{main:e("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:_(e("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(a,".",e("GET_FILE_SIZE_BASE"),e("GET_FILE_SIZE_LABELS",e))})}})}i(E)})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],mimeMaxFileSizes:[null,i.OBJECT],mimeMinFileSizes:[null,i.OBJECT],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:E}));export default E;
