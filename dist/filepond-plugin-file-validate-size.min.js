/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

!function(e,E){"object"==typeof exports&&"undefined"!=typeof module?module.exports=E():"function"==typeof define&&define.amd?define(E):(e=e||self).FilePondPluginFileValidateSize=E()}(this,function(){"use strict";var e=function(e){var E=e.addFilter,i=e.utils,_=i.Type,l=i.replaceInString,t=i.toNaturalFileSize,I=function(e){var E={b:1,kb:1e3,mb:Math.pow(1e3,2),gb:Math.pow(1e3,3),tb:Math.pow(1e3,4),pb:Math.pow(1e3,5)};return Number(e.match(/\d/).toString())*E[e.match(/[a-zA-Z]+/).toString().toLowerCase()]};return E("ALLOW_HOPPER_ITEM",function(e,E){var i=E.query;if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var _=i("GET_MAX_FILE_SIZE");if(null!==_&&e.size>_)return!1;var l=i("GET_MIN_FILE_SIZE");return!(null!==l&&e.size<l)}),E("LOAD_FILE",function(e,E){var i=E.query;return new Promise(function(E,_){if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return E(e);var n=i("GET_FILE_VALIDATE_SIZE_FILTER");if(n&&!n(e))return E(e);var L=i("GET_MIME_MAX_FILE_SIZES");null!==L&&Object.keys(L).forEach(function(E){(e.type===E||"/*"===E.substring(2,-2)&&e.type.split("/")[0]===E.slice(0,-2))&&e.size>I(L[E])&&_({status:{main:i("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:l(i("GET_LABEL_MAX_FILE_SIZE"),{filesize:t(I(L[E]),".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}})});var a=i("GET_MIME_MIN_FILE_SIZES");null!==a&&Object.keys(a).forEach(function(E){(e.type===E||"/*"===E.substring(2,-2)&&e.type.split("/")[0]===E.slice(0,-2))&&e.size<I(a[E])&&_({status:{main:i("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:l(i("GET_LABEL_MIN_FILE_SIZE"),{filesize:t(I(a[E]),".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}})});var S=i("GET_MAX_FILE_SIZE");if(null!==S&&e.size>S)_({status:{main:i("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:l(i("GET_LABEL_MAX_FILE_SIZE"),{filesize:t(S,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});else{var u=i("GET_MIN_FILE_SIZE");if(null!==u&&e.size<u)_({status:{main:i("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:l(i("GET_LABEL_MIN_FILE_SIZE"),{filesize:t(u,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});else{var s=i("GET_MAX_TOTAL_FILE_SIZE");if(null!==s)if(i("GET_ACTIVE_ITEMS").reduce(function(e,E){return e+E.fileSize},0)>s)return void _({status:{main:i("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:l(i("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:t(s,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});E(e)}}})}),{options:{allowFileSizeValidation:[!0,_.BOOLEAN],mimeMaxFileSizes:[null,_.OBJECT],mimeMinFileSizes:[null,_.OBJECT],maxFileSize:[null,_.INT],minFileSize:[null,_.INT],maxTotalFileSize:[null,_.INT],fileValidateSizeFilter:[null,_.FUNCTION],labelMinFileSizeExceeded:["File is too small",_.STRING],labelMinFileSize:["Minimum file size is {filesize}",_.STRING],labelMaxFileSizeExceeded:["File is too large",_.STRING],labelMaxFileSize:["Maximum file size is {filesize}",_.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",_.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",_.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});
